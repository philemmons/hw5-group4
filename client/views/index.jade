doctype html
html(ng-app='')
  head
<<<<<<< HEAD
    title
=======
    title Live Chat
>>>>>>> 9fff728336e0045a7910fb5b4301ac69eb5f1335

    meta(name='viewport', content='width=device-width, initial-scale=1.0', charset='utf-8')

    style type='text/css'.
        include ../css/bootstrap.min.css
        include ../css/bootstrap-responsive.min.css
        include ../css/mystyle.css

    script(src='/socket.io/socket.io.js')
<<<<<<< HEAD

    script(src='/js/jquery.min.js')

    script(src='/js/bootstrap.min.js')

=======
    script(src='/js/jquery.min.js')
    script(src='/js/bootstrap.min.js')
>>>>>>> 9fff728336e0045a7910fb5b4301ac69eb5f1335
    script(src='//ajax.googleapis.com/ajax/libs/angularjs/1.2.6/angular.min.js')

    script.
      function AngJSController($scope) {
        var socket = io.connect();

        $scope.userData = [];
<<<<<<< HEAD

        $scope.userNameArr = [];
        $scope.userName = '';
        $scope.userText = '';

        $scope.numUser = 0;

=======
        $scope.userNameArr = [];
        $scope.userName = '';
        $scope.userText = '';
        $scope.numUser = 0;
>>>>>>> 9fff728336e0045a7910fb5b4301ac69eb5f1335
        socket.on('connect', function(){
          $scope.setName();
          $scope.$apply();
        });

        socket.on('message', function(data){
          $scope.userData.push(data);
          $scope.$apply();
<<<<<<< HEAD

=======
>>>>>>> 9fff728336e0045a7910fb5b4301ac69eb5f1335
        });

        socket.on('userList', function(names){
          $scope.userNameArr = names;
          $scope.$apply();
        });

        socket.on( 'numUser', function( numUser ){
          $scope.numUser = numUser;
          $scope.$apply();
        });

        $scope.send = function send(){
          socket.emit('message', $scope.userText);
          $scope.userText = '';
        };

        $scope.setName = function setName() {
          socket.emit('identify', $scope.userName);
        };
      }

  body
    #container(ng-controller='AngJSController')
      #page
        #header
<<<<<<< HEAD
          h1 Live Assitance

          .right
            a(href='https://github.com/CSUMB-SCD/group4_FinalProject')  G4FP

            #user(ng-bind='numUser')
=======
          h1 Live Assistance

          .right
            a(href='https://github.com/CSUMB-SCD/group4_FinalProject')  Project Github
            <br>
            a(href='https://github.com/philemmons/hw5-group4')  HW5 Github
            br
            span.user <br>Users:
            span.user(ng-bind='numUser')
>>>>>>> 9fff728336e0045a7910fb5b4301ac69eb5f1335

        #main
          #area
            #title
              h4 Users Online

            ul
              li(ng-repeat='name in userNameArr track by $index',ng-bind='name')

          #content
            .row
              .span9
                table.table.table-striped.table-bordered
                  thead.head-scroll
                    tr
                      th.span2
                        h4 User
<<<<<<< HEAD

                      th.span7
                        h4 Text


                  tbody#body-scroll
                    tr(ng-repeat='info in userData track by $index')

                      td.span2(ng-bind='info.name')

=======
                      th.span7
                        h4 Text

                  tbody#body-scroll
                    tr(ng-repeat='info in userData track by $index')
                      td.span2(ng-bind='info.name')
>>>>>>> 9fff728336e0045a7910fb5b4301ac69eb5f1335
                      td.span7(ng-bind='info.text')

                .row.controls
                  form(ng-submit='send()')
                    .span2
                      input.input-block-level(ng-model='userName', ng-change='setName()', placeholder='User Name', type='text')

                    .input-append.span7
                      input.span6(ng-model='userText', placeholder='Text Input', type='text')
<<<<<<< HEAD

                      input.btn.btn-primary( ng-disabled='!userText', type='submit', value='Submit')
=======
                      input.btn.btn-success( ng-disabled='!userText', type='submit', value='Enter')
>>>>>>> 9fff728336e0045a7910fb5b4301ac69eb5f1335
  div.fix
